<!doctype html>

<html lang="pt_BR">
<v-app data-app>

  <head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/codemirror.css">
    <link rel="stylesheet" href="css/mais-precoce-ampl.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

    <title>AMPLjs - Gerador de código AMPL.</title>
    <meta name="author" content="JMorais">



  </head>

  <body>
    <div id="ampljs-app">
      <v-container>
        <v-row>
          <h1>Gerador de código AMPL</h1>
        </v-row>
        <v-row>
          <h5>Insira o código JSON e clique em traduzir</h3>
        </v-row>
      </v-container>
      <v-container>

        <v-row :align="alignment">
          <v-col cols="12" sm="12" md="6" lg="6" xl="6">
            <h6 class="ml-4">JSON SIMULAÇÃO:</h4>
              <v-card outlined>
                <textarea id="input-textarea"></textarea>
              </v-card>
          </v-col>
          <v-col :align='alignment' cols="12" sm="6" md="3" lg="3" xl="3">
            <h6 class="ml-4">JSON INDICADORES:</h4>
              <v-card outlined>
                <textarea id="input-json-indicadores"></textarea>
              </v-card>
          </v-col>
          <v-col cols="12" sm="6" md="3" lg="3" xl="3">
            <h6 class="ml-4">JSON USUÁRIO:</h4>
              <v-card outlined>
                <textarea id="input-json-usuario"></textarea>
              </v-card>
          </v-col>
        </v-row>
        <v-row :align="alignment">
          <v-col cols="12" sm="12" md="12" lg="12" xl="12">
            <h6 class="ml-4">AMPL:</h4>
              <v-card outlined>
                <textarea id="output-textarea"></textarea>
              </v-card>
          </v-col>
        </v-row>
      </v-container>
      <v-container>
        <v-row :align="end">
          <v-btn class="mx-auto" v-on:click="translate" text large color="primary"> Traduzir</v-btn>

          <template>
            <v-row justify="center">
              <v-dialog v-model="dialog" fullscreen hide-overlay transition="dialog-bottom-transition">
                <template v-slot:activator="{ on, attrs }">
                  <v-btn v-bind="attrs" v-on="on" text large color="primary">
                    EXIBIR FORMULÁRIO
                  </v-btn>
                </template>
                <v-card>
                  <v-toolbar dark color="primary">
                    <v-btn icon dark @click="dialog = false">
                      <v-icon>mdi-close</v-icon>
                    </v-btn>
                    <v-toolbar-title>Gerar código otimizável</v-toolbar-title>
                    <v-spacer></v-spacer>
                  </v-toolbar>

                  <v-divider></v-divider>
                  <template>
                    <div class="rotulo">
                      <v-form>
                        <v-container>
                          <v-row>
                            <v-col cols="12">
                              <h1>Simulação {{nomeSimulacao}}</h1>
                            </v-col>
                          </v-row>
                          <v-row>
                            <v-col cols="12">
                              <h3>Indicadores</h3>
                              <hr />
                            </v-col>
                            <v-col cols="12">
                              <!-- COMPONENTE PARA SELEÇÃO DO INDICADOR -->
                              <template>
                                <div class="select">
                                  <v-select :items="indicadores" name="indicador" label="Selecione um indicador"
                                    v-model="selecionado" item-text="name" item-value="id" chips required
                                    @change="indicador-mudou"></v-select>
                                </div>
                              </template>
                            </v-col>
                            <v-col cols="12">
                              <h3>Parâmetros</h3>
                              <hr />
                              <!-- COMPONENTE PARA SELEÇÃO DO PARÂMETRO -->
                              <template>
                                <div class="parametros">
                                    <v-row>
                                      <v-col cols="12">
                                        <v-dialog
                                                    v-model="dialog"
                                                    max-width="300"
                                                    outlined
                                                    >
                                                    <v-card>  
                                                                              
                                                                              <v-card-title class="text-center">
                                                            Atenção
                                                        </v-card-title>
                            
                                                        <v-card-text>
                                                            Você só pode selecionar no máximo {{totalParam}} parâmetro(s)!
                                                        </v-card-text>
                                                        
                                                        <v-card-actions>
                                                        <v-spacer></v-spacer>
                                                        
                                                        <v-btn
                                                            color="green darken-1"
                                                            text
                                                            @click="dialog = false"
                                                        >
                                                            Ok!
                                                        </v-btn>
                                                        </v-card-actions>
                                                        
                                                    </v-card>
                                                    </v-dialog>
                                      </v-col>
                            
                                      <v-col cols="12" v-if="selecionado != 0">
                                          <v-switch v-if="switch1"
                                                v-model="switch1"
                                                :label="`Visualização de parâmetros default para o indicador: Habilitado`"
                                            ></v-switch>
                                            <v-switch v-else
                                                v-model="switch1"
                                                :label="`Visualização de parâmetros default para o indicador: Desabilitado`"
                                            ></v-switch>
                                      </v-col>
                                      <v-col cols="12" >
                                        <p v-if="!isSelected" class="msg">
                                            Selecione um indicador para habilitar a aba de parâmetros
                                            </p>
                                            <p v-else class="msg">
                                            Você pode digitar o nome do parâmetro para pesquisá-lo
                                        </p>
                                        <!-- ADICIONANDO SELECT MULTIPLO -->
                                        <!-- Inicio do autocomplete -->
                                        <v-autocomplete
                                          v-model="pSelected"
                                          :items="paramsInd"
                                          :disabled="!isSelected"
                                          filled
                                          chips
                                          label="Selecione o Parâmetro"
                                          item-text="name"
                                          item-value="name"
                                          persistent-hint
                                          multiple
                                          v-on:input="limiter"
                                        >
                                          <template v-slot:selection="data">
                                            <v-chip
                                              v-bind="data.attrs"
                                              :input-value="data.selected"
                                              close
                                              @click="data.select"
                                              @click:close="remove(data.item)"
                                            >{{ data.item.name }}</v-chip>
                                          </template>
                                          <template v-slot:item="data">
                                            <template v-if="typeof data.item !== 'object'">
                                              <v-list-item-content v-text="data.item"></v-list-item-content>
                                            </template>
                                            <template v-else>
                                              <v-list-item-content>
                                                <v-list-item-title v-html="data.item.name"></v-list-item-title>
                                              </v-list-item-content>
                                            </template>
                                          </template>
                                        </v-autocomplete>
                                      </v-col>
                                    </v-row>
                                </div>
                                
                            </template>
                            </v-col>

                            <v-col cols="12">
                              <v-btn color="success" on:click="dialog = false">Visualizar</v-btn>
                            </v-col>
                          </v-row>
                        </v-container>
                      </v-form>
                    </div>
                  </template>
                </v-card>
              </v-dialog>
            </v-row>
          </template>

        </v-row>
      </v-container>
    </div>
  </body>
  <script defer src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
  <script defer src="scripts//codemirror.js"></script>
  <script defer src="scripts/ampljs.js"></script>
  <script defer src="scripts/index.js"></script>
  <script defer src="scripts/validation.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/7.0.2/math.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/7.0.2/math.min.map"></script>
  <script defer src="scripts/string-codebase.js"></script>
  <script defer src="scripts/mais-precoce-ampl.umd.js"></script>
  <script defer src="scripts/mais-precoce-ampl.umd.js.map"></script>
</v-app>


</html>